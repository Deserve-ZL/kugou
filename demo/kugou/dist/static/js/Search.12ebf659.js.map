{"version":3,"sources":["webpack:///./src/components/search/Search.vue?7d81","webpack:///src/components/search/Search.vue","webpack:///./src/components/search/Search.vue?5920","webpack:///./src/components/search/Search.vue","webpack:///./node_modules/core-js/modules/es6.regexp.search.js","webpack:///./src/components/public/AppMusicList.vue?e574","webpack:///src/components/public/AppMusicList.vue","webpack:///./src/components/public/AppMusicList.vue?87fc","webpack:///./src/components/public/AppMusicList.vue","webpack:///./src/components/search/Search.vue?59dc","webpack:///./src/components/public/AppMusicList.vue?5a3e","webpack:///./src/mixins/loading.js","webpack:///./src/components/public/PubModuleTitle.vue?0074","webpack:///src/components/public/PubModuleTitle.vue","webpack:///./src/components/public/PubModuleTitle.vue?71fb","webpack:///./src/components/public/PubModuleTitle.vue","webpack:///./src/components/public/PubModuleTitle.vue?ce3e"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","ref","on","submit","$event","preventDefault","directives","name","rawName","value","expression","modifiers","trim","type","placeholder","domProps","keyup","_k","keyCode","key","getSearchRes","input","target","composing","keyword","blur","$forceUpdate","class","isSearchResShow","click","_v","_s","searchType","_l","item","index","searchRes","info","length","music-list","staticRenderFns","Searchvue_type_script_lang_js","mixins","loading","components","PubModuleTitle","AppMusicList","data","computed","Object","objectSpread","vuex_esm","get","$store","state","search","set","replaceProperty","paths","isSearchRecShow","created","init","mounted","bus","$on","scrollTopSearchCont","initQqBugDetect","destroyed","$off","methods","queryKeyword","$route","query","isKeywordValid","isQueryKeywordValid","getSearchRec","_this","searchRecArr","setLoadingExcludeSearchForm","startLoading","axios_default","a","api","hotSearch","then","_ref","stopLoading","catch","err","alert","_this2","$router","replace","url","searchResult","encodeURIComponent","res","er","search__cont","document","getElementsByClassName","window","listener","scrollTop","addEventListener","$refs","searchCont","search_Searchvue_type_script_lang_js","component","componentNormalizer","__webpack_exports__","__webpack_require__","defined","SEARCH","$search","regexp","O","fn","undefined","call","RegExp","String","wantPlay","_t","filename","aria-hidden","xlink:href","AppMusicListvue_type_script_lang_js","props","musicList","Array","default","music","commit","$props","public_AppMusicListvue_type_script_lang_js","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Search_vue_vue_type_style_index_0_id_10316733_scoped_true_lang_less__WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AppMusicList_vue_vue_type_style_index_0_id_39bf58b4_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_0___default","updated","D_Demo_github_vue_demo_kugou_node_modules_babel_runtime_helpers_builtin_es6_objectSpread__WEBPACK_IMPORTED_MODULE_0__","vuex__WEBPACK_IMPORTED_MODULE_1__","setLoadingExcludeHeader","setLoadingExcludeNav","setLoadingExcludeModuleTitle","$emit","arguments","PubModuleTitlevue_type_script_lang_js","public_PubModuleTitlevue_type_script_lang_js","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PubModuleTitle_vue_vue_type_style_index_0_id_95e615fa_scoped_true_lang_less__WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"static/js/Search.12ebf659.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"search\"},[_c('PubModuleTitle',{staticClass:\"search__title\",attrs:{\"title\":_vm.title}}),_c('div',{ref:\"searchCont\",staticClass:\"search__cont\"},[_c('form',{staticClass:\"search__form\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.keyword),expression:\"keyword\",modifiers:{\"trim\":true}}],staticClass:\"search__input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.keyword)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getSearchRes($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('button',{class:_vm.isSearchResShow?'search__btn search__btn--active':'search__btn',attrs:{\"type\":\"button\"},on:{\"click\":_vm.getSearchRes}},[_vm._v(_vm._s(_vm.title))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSearchRecShow),expression:\"isSearchRecShow\"}],staticClass:\"search__rec\"},[_c('h6',{staticClass:\"search__type\"},[_vm._v(_vm._s(_vm.searchType))]),_c('ul',{staticClass:\"search__list\"},_vm._l((_vm.searchRecArr),function(item,index){return _c('li',{key:index,staticClass:\"search__item main_border_bottom\",on:{\"click\":function($event){_vm.keyword=item.keyword;_vm.getSearchRes()}}},[_vm._v(_vm._s(item.keyword))])}))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSearchResShow),expression:\"isSearchResShow\"}],staticClass:\"search__res\"},[_c('div',{staticClass:\"search__count\"},[_vm._v(\"共有\"+_vm._s(_vm.searchRes.info.length)+\"条结果\")]),_c('AppMusicList',{staticClass:\"search__res-list\",attrs:{\"music-list\":_vm.searchRes.info}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"search\">\r\n    <PubModuleTitle :title=\"title\" class=\"search__title\"/>\r\n    <div class=\"search__cont\" ref=\"searchCont\">\r\n      <form class=\"search__form\" @submit.prevent>\r\n        <input\r\n          type=\"text\"\r\n          :placeholder=\"placeholder\"\r\n          class=\"search__input\"\r\n          v-model.trim=\"keyword\"\r\n          @keyup.enter=\"getSearchRes\"\r\n        >\r\n        <button\r\n          :class=\"isSearchResShow?'search__btn search__btn--active':'search__btn'\"\r\n          type=\"button\"\r\n          @click=\"getSearchRes\"\r\n        >{{title}}</button>\r\n      </form>\r\n      <div class=\"search__rec\" v-show=\"isSearchRecShow\">\r\n        <h6 class=\"search__type\">{{searchType}}</h6>\r\n        <ul class=\"search__list\">\r\n          <li\r\n            class=\"search__item main_border_bottom\"\r\n            v-for=\"(item,index) in searchRecArr\"\r\n            :key=\"index\"\r\n            @click=\"keyword=item.keyword;getSearchRes()\"\r\n          >{{item.keyword}}</li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"search__res\" v-show=\"isSearchResShow\">\r\n        <div class=\"search__count\">共有{{searchRes.info.length}}条结果</div>\r\n        <AppMusicList :music-list=\"searchRes.info\" class=\"search__res-list\"/>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport PubModuleTitle from '../public/PubModuleTitle'\r\nimport AppMusicList from '../public/AppMusicList'\r\nimport axios from 'axios'\r\nimport api from '../../assets/js/api'\r\nimport bus from '../../assets/js/bus'\r\nimport loading from '../../mixins/loading.js'\r\nimport { mapState, mapMutations } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Search',\r\n  mixins: [loading],\r\n  components: {\r\n    PubModuleTitle,\r\n    AppMusicList\r\n  },\r\n  data() {\r\n    return {\r\n      title: '搜索',\r\n      searchType: '最近热门',\r\n      placeholder: '歌手/歌名/拼音'\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('search', [\r\n      'searchRecArr',\r\n      'searchRes',\r\n      'isSearchRecShow',\r\n      'isSearchResShow'\r\n    ]),\r\n    keyword: {\r\n      get() {\r\n        return this.$store.state.search.keyword\r\n      },\r\n      set(value) {\r\n        this.replaceProperty({ paths: 'search.keyword', data: value })\r\n      }\r\n    },\r\n    isSearchRecShow: {\r\n      get() {\r\n        return this.$store.state.search.isSearchRecShow\r\n      },\r\n      set(data) {\r\n        this.replaceProperty({ paths: 'search.isSearchRecShow', data })\r\n      }\r\n    },\r\n    isSearchResShow: {\r\n      get() {\r\n        return this.$store.state.search.isSearchResShow\r\n      },\r\n      set(data) {\r\n        this.replaceProperty({ paths: 'search.isSearchResShow', data })\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.init()\r\n  },\r\n  mounted() {\r\n    bus.$on('searchBtnClicked', this.scrollTopSearchCont)\r\n    this.initQqBugDetect()\r\n  },\r\n  destroyed() {\r\n    bus.$off('searchBtnClicked', this.scrollTopSearchCont)\r\n  },\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    init() {\r\n      let queryKeyword = this.$route.query.keyword\r\n      let isKeywordValid =\r\n        typeof this.keyword === 'string' && this.keyword !== ''\r\n      let isQueryKeywordValid =\r\n        typeof queryKeyword === 'string' && queryKeyword !== ''\r\n      if (isQueryKeywordValid && queryKeyword !== this.keyword) {\r\n        this.keyword = queryKeyword\r\n        this.getSearchRes()\r\n      } else if (isKeywordValid) {\r\n        this.isSearchRecShow = false\r\n        this.isSearchResShow = true\r\n      } else {\r\n        this.getSearchRec()\r\n      }\r\n    },\r\n    getSearchRec() {\r\n      if (this.searchRecArr.length !== 0) {\r\n        this.isSearchResShow = false\r\n        this.isSearchRecShow = true\r\n        return\r\n      }\r\n      this.setLoadingExcludeSearchForm()\r\n      this.startLoading()\r\n      axios\r\n        .get(api.hotSearch)\r\n        .then(({ data }) => {\r\n          this.replaceProperty({\r\n            paths: 'search.searchRecArr',\r\n            data: data.data.info\r\n          })\r\n          this.stopLoading()\r\n          this.isSearchResShow = false\r\n          this.isSearchRecShow = true\r\n        })\r\n        .catch(err => {\r\n          alert(err)\r\n        })\r\n    },\r\n    getSearchRes() {\r\n      if (this.keyword === '') {\r\n        return\r\n      }\r\n      this.$router.replace({ query: { keyword: this.keyword } })\r\n      let url = api.searchResult + encodeURIComponent(this.keyword)\r\n      this.setLoadingExcludeSearchForm()\r\n      this.startLoading()\r\n      axios\r\n        .get(url)\r\n        .then(res => {\r\n          let data = res.data.data\r\n          this.replaceProperty({\r\n            paths: 'search.searchRes',\r\n            data\r\n          })\r\n          this.isSearchRecShow = false\r\n          this.isSearchResShow = true\r\n          this.stopLoading()\r\n        })\r\n        .catch(er => alert(er))\r\n    },\r\n    initQqBugDetect() {\r\n      let search__cont = document.getElementsByClassName('search__cont')[0]\r\n      window.search__cont = search__cont\r\n      //! bug with qq browser\r\n      let listener = function() {\r\n        if (search__cont.scrollTop) {\r\n          // console.log(event.type, search__cont.scrollTop)\r\n        }\r\n      }\r\n      window.addEventListener('touchstart', listener)\r\n      window.addEventListener('touchmove', listener)\r\n    },\r\n    scrollTopSearchCont() {\r\n      if (this.$refs.searchCont) {\r\n        //todo smooth scroll\r\n        this.$refs.searchCont.scrollTop = 0\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import (reference) '../../assets/css/constant.less';\r\n.search {\r\n  box-sizing: border-box;\r\n}\r\n.search__cont {\r\n  overflow: scroll;\r\n\r\n  box-sizing: border-box;\r\n  height: calc(100% - @module_title_height);\r\n}\r\n.search__form {\r\n  box-sizing: border-box;\r\n  height: @search_form_height;\r\n  padding: @padding_width;\r\n\r\n  background-color: @white-1;\r\n}\r\n.search__input,\r\n.search__btn {\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n\r\n  border-radius: 5px;\r\n}\r\n\r\n.search__input {\r\n  width: 277px;\r\n  margin-right: 10px;\r\n  padding: 7px 1px 7px 31px;\r\n\r\n  border: 1px solid @white-2;\r\n  background-color: @white;\r\n}\r\n.search__btn {\r\n  width: 60px;\r\n\r\n  color: @white-to-black;\r\n  background-color: @white-2;\r\n}\r\n.search__btn--active {\r\n  color: @white;\r\n  background: @theme;\r\n}\r\n.search__type {\r\n  height: 51px;\r\n  padding-left: 16px;\r\n\r\n  color: @theme;\r\n  border-bottom: 1px solid @white-3;\r\n\r\n  font-size: 16px;\r\n  line-height: 51px;\r\n}\r\n.search__item {\r\n  height: 64px;\r\n  margin-left: 16px;\r\n\r\n  font-size: 20px;\r\n  line-height: 64px;\r\n}\r\n.search__count {\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  padding-left: 16px;\r\n\r\n  color: @white-to-black;\r\n  background-color: @white-2;\r\n\r\n  font-size: 14px;\r\n  line-height: 28px;\r\n}\r\n.search__res-list {\r\n  overflow-y: scroll;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=10316733&scoped=true\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=10316733&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"10316733\",\n  null\n  \n)\n\nexport default component.exports","// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search) {\n  // 21.1.3.15 String.prototype.search(regexp)\n  return [function search(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[SEARCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n  }, $search];\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"music_list\"},_vm._l((_vm.musicList),function(item,index){return _c('li',{key:index,staticClass:\"music_list__item main_border_bottom\"},[_c('div',{staticClass:\"music_list__info\",on:{\"click\":function($event){_vm.wantPlay(item)}}},[_vm._t(\"index\",null,{data:index}),_c('div',{staticClass:\"music_list__name\"},[_vm._v(_vm._s(item.filename))])],2),_c('button',{staticClass:\"music_list__download\"},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-download\"}})])])])}))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <ul class=\"music_list\">\r\n    <li class=\"music_list__item main_border_bottom\" v-for=\"(item,index) in musicList\" :key=\"index\">\r\n      <div class=\"music_list__info\" @click=\"wantPlay(item)\">\r\n        <slot :data=\"index\" name=\"index\" class=\"music_list__index\" @click=\"wantPlay(item)\"></slot>\r\n        <div class=\"music_list__name\">{{item.filename}}</div>\r\n      </div>\r\n      <button class=\"music_list__download\">\r\n        <svg class=\"icon\" aria-hidden=\"true\">\r\n          <use xlink:href=\"#icon-download\"></use>\r\n        </svg>\r\n      </button>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AppMusicList',\r\n  props: {\r\n    musicList: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    wantPlay(music) {\r\n      this.$store.commit('player/wantPlay', {\r\n        music,\r\n        musicList: this.$props.musicList\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import (reference) '../../assets/css/constant.less';\r\n.music_list {\r\n  padding-left: 19px;\r\n}\r\n\r\n.music_list__item {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: auto;\r\n  min-height: 72px;\r\n  padding: 10px 0;\r\n}\r\n\r\n.music_list__info {\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: center;\r\n}\r\n.music_list__index {\r\n  width: 48px;\r\n  flex: 0 0 auto;\r\n}\r\n.music_list__name {\r\n  width: calc(100% - 48px);\r\n  flex: 1 0 auto;\r\n}\r\n\r\n.music_list__download {\r\n  box-sizing: content-box;\r\n  width: 23px;\r\n  height: 100%;\r\n  padding: 0 @padding_width;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMusicList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMusicList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AppMusicList.vue?vue&type=template&id=39bf58b4&scoped=true\"\nimport script from \"./AppMusicList.vue?vue&type=script&lang=js\"\nexport * from \"./AppMusicList.vue?vue&type=script&lang=js\"\nimport style0 from \"./AppMusicList.vue?vue&type=style&index=0&id=39bf58b4&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39bf58b4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=10316733&scoped=true&lang=less\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=10316733&scoped=true&lang=less\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMusicList.vue?vue&type=style&index=0&id=39bf58b4&lang=less&scoped=true\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppMusicList.vue?vue&type=style&index=0&id=39bf58b4&lang=less&scoped=true\"","import { mapMutations } from 'vuex'\r\nexport default {\r\n  updated() {\r\n    this.stopLoading()\r\n  },\r\n  methods: {\r\n    ...mapMutations(['replaceProperty']),\r\n    startLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: true\r\n      })\r\n    },\r\n    stopLoading() {\r\n      this.replaceProperty({\r\n        paths: 'loading.isShow',\r\n        data: false\r\n      })\r\n    },\r\n    setLoadingExcludeHeader() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_header'\r\n      })\r\n    },\r\n    setLoadingExcludeNav() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_nav'\r\n      })\r\n    },\r\n    setLoadingExcludeModuleTitle() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_module_title'\r\n      })\r\n    },\r\n    setLoadingExcludeSearchForm() {\r\n      this.replaceProperty({\r\n        paths: 'loading.sizeClassName',\r\n        data: 'loading--exclude_search_form'\r\n      })\r\n    }\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h4',{staticClass:\"module_title main_box_shadow\",on:{\"click\":function($event){_vm.$emit('click',arguments[0])}}},[_vm._v(_vm._s(_vm.title))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <h4 class=\"module_title main_box_shadow\" @click=\"$emit('click',arguments[0])\">{{title}}</h4>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'PubModuleTitle',\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default() {\r\n        return ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n@import (reference) '../../assets/css/constant.less';\r\n.module_title {\r\n  width: 100%;\r\n  height: @module_title_height;\r\n  position: relative;\r\n  z-index: 1;\r\n  text-align: center;\r\n\r\n  background-color: @white;\r\n\r\n  line-height: @module_title_height;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PubModuleTitle.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PubModuleTitle.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PubModuleTitle.vue?vue&type=template&id=95e615fa&scoped=true\"\nimport script from \"./PubModuleTitle.vue?vue&type=script&lang=js\"\nexport * from \"./PubModuleTitle.vue?vue&type=script&lang=js\"\nimport style0 from \"./PubModuleTitle.vue?vue&type=style&index=0&id=95e615fa&scoped=true&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"95e615fa\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PubModuleTitle.vue?vue&type=style&index=0&id=95e615fa&scoped=true&lang=less\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PubModuleTitle.vue?vue&type=style&index=0&id=95e615fa&scoped=true&lang=less\""],"sourceRoot":""}